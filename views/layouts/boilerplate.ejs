<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TripCamp - Discover Amazing Campgrounds</title>

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>â›º</text></svg>">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@600;700;800&display=swap" rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
    crossorigin="anonymous"
  >

  <!-- MapTiler SDK --> 
  <script src="https://cdn.maptiler.com/maptiler-sdk-js/v3.6.1/maptiler-sdk.umd.min.js"></script>
  <link href="https://cdn.maptiler.com/maptiler-sdk-js/v3.6.1/maptiler-sdk.css" rel="stylesheet">
<link rel="stylesheet" href="/stylesheet/footer.css">
  <!-- Custom Styles -->
  <link rel="stylesheet" href="/stylesheet/star.css">
  <link rel="stylesheet" href="/stylesheet/login.css">
<link rel="stylesheet" href="/stylesheet/app.css">
  <link rel="stylesheet" href="/stylesheet/boilerplate.css">
</head>

<body class="d-flex flex-column vh-100">

  <!-- Loading Spinner -->
  <div class="loading" id="loadingSpinner">
    <div class="loading-spinner"></div>
  </div>

  <%- include('../partials/navbar') %>

  <main class="container page-transition flex-grow-1">

    <%- include('../partials/message') %>
    <%- body %>
  </main>

  <%- include('../partials/footer') %>

  <!-- Bootstrap JS -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous">
  </script>

  <!-- Your custom JS -->
  <script src="/javascript/validate.js"></script>

  <!-- Enhanced Flash Messages Auto-hide -->
  <script>
    // Auto-hide flash messages with fade effect
    setTimeout(() => {
      const alerts = document.querySelectorAll('.alert');
      alerts.forEach(alert => {
        alert.style.transition = 'all 0.5s ease';
        alert.style.opacity = '0';
        alert.style.transform = 'translateY(-20px)';
        setTimeout(() => {
          alert.style.display = 'none';
        }, 500);
      });
    }, 4000); // 4 seconds

    // Page loading animation
    window.addEventListener('load', () => {
      const loader = document.getElementById('loadingSpinner');
      if (loader) {
        loader.classList.remove('active');
      }
    });

    // Show loader on page navigation
    document.addEventListener('DOMContentLoaded', () => {
      const links = document.querySelectorAll('a:not([target="_blank"])');
      const loader = document.getElementById('loadingSpinner');
      
      links.forEach(link => {
        link.addEventListener('click', (e) => {
          if (link.href && !link.href.startsWith('#')) {
            loader.classList.add('active');
          }
        });
      });
    });

    // Smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });

    // Add animation to elements on scroll
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.style.animation = 'fadeInUp 0.6s ease-out forwards';
        }
      });
    }, observerOptions);

    // Observe cards and other animated elements
    document.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('.card, .list-group-item').forEach(el => {
        observer.observe(el);
      });
    });
  </script>

</body>
</html>